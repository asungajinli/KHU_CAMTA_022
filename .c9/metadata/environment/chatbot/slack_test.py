{"filter":false,"title":"slack_test.py","tooltip":"/chatbot/slack_test.py","undoManager":{"mark":71,"position":71,"stack":[[{"start":{"row":0,"column":0},"end":{"row":165,"column":52},"action":"insert","lines":["import config","import re","import random","import boto3","from slack_bolt import App","from slack_bolt.adapter.socket_mode import SocketModeHandler","from slack_sdk import WebClient","from slack_sdk.errors import SlackApiError","","app = App(token=config.bot_token)","slack_client = WebClient(token=config.bot_token)","","@app.message(re.compile(\"맛집\"))","def all_store_info(message, say):","    say('안녕하세요 숙명여대 맛집 리스트를 추천해드리겠습니다 :)')","    # DynamoDB 리소스 생성","    dynamodb = boto3.resource('dynamodb', region_name='ap-northeast-2') # 서울 리전의 코드(ap-northeast-2)로 설정","    ","    # 테이블 정보 설정","    table_name = 'test' # 테이블 이름","    # partition_key = 'store_id' # 파티션 키","    ","    # DynamoDB 테이블 가져오기","    table = dynamodb.Table(table_name)","    ","    # 데이터 조회","    response = table.scan()","    items = response['Items']","    ","    message = \"\"","    for item in items:","        store_id = item['store_id']","        title = item['title']","        category = item['category']","        url = item['url']","        ","        # 선택된 음식점 정보 출력","        message = {","            \"blocks\": [","                {","                    \"type\": \"section\",","                    \"text\": {","                        \"type\": \"mrkdwn\",","                        \"text\": f\"*맛집명:* {title}\\n*카테고리:* {category}\\n*자세히보기:*<{url}|링크>\"","                    }","                },","                {","                    \"type\": \"divider\"","                }","            ]","        }","        say(message)","        ","        ","","@app.message(re.compile(\"추천\"))","def regex(message, say):","    say('안녕하세요 숙명여대 맛집 추천해드리겠습니다 :) ')","    # DynamoDB 리소스 생성","    dynamodb = boto3.resource('dynamodb', region_name='ap-northeast-2')  # 서울 리전의 코드(ap-northeast-2)로 설정","    ","    # 테이블 정보 설정","    table_name = 'test'  # 테이블 이름","    partition_key = 'store_id'  # 파티션 키","    ","    # DynamoDB 테이블 가져오기","    table = dynamodb.Table(table_name)","    ","    # 데이터 조회","    response = table.scan()","    items = response['Items']","    ","    # 랜덤하게 음식점 선택","    selected_item = random.choice(items)","    ","    # 선택된 음식점 정보 출력","    store_id = selected_item[partition_key]","    title = selected_item['title']","    category = selected_item['category']","    url = selected_item['url']","    ","    # 선택된 음식점 정보 출력","    message = {","        \"blocks\": [","            {","                \"type\": \"section\",","                \"text\": {","                    \"type\": \"mrkdwn\",","                    \"text\": f\"*맛집 추천!* :star:\\n\\n*맛집명:* {title}\\n*카테고리:* {category}\\n*자세히보기:*<{url}|링크>\"","                }","            },","            {","                \"type\": \"divider\"","            },","            {","                \"type\": \"actions\",","                \"elements\": [","                    {","                        \"type\": \"button\",","                        \"text\": {","                            \"type\": \"plain_text\",","                            \"text\": \"다른 음식점 추천받기\"","                        },","                        \"style\": \"primary\",","                        \"action_id\": \"recommend_another\"","                    }","                ]","            }","        ]","    }","","    say(message)","    ","    ","@app.action(\"recommend_another\")","def recommend_another(ack, body, say):","    ack()","    ","    dynamodb = boto3.resource('dynamodb', region_name='ap-northeast-2')","    table_name = 'test'","    partition_key = 'store_id'","    table = dynamodb.Table(table_name)","    ","    response = table.scan()","    items = response['Items']","    ","    selected_item = random.choice(items)","    ","    store_id = selected_item[partition_key]","    title = selected_item['title']","    category = selected_item['category']","    url = selected_item['url']","    ","    message = {","        \"blocks\": [","            {","                \"type\": \"section\",","                \"text\": {","                    \"type\": \"mrkdwn\",","                    \"text\": f\"*맛집 추천!* :star:\\n\\n*맛집명:* {title}\\n*카테고리:* {category}\\n*자세히보기:*<{url}|링크>\"","                }","            },","            {","                \"type\": \"divider\"","            },","            {","                \"type\": \"actions\",","                \"elements\": [","                    {","                        \"type\": \"button\",","                        \"text\": {","                            \"type\": \"plain_text\",","                            \"text\": \"다른 음식점 추천받기\"","                        },","                        \"style\": \"primary\",","                        \"action_id\": \"recommend_another\"","                    }","                ]","            }","        ]","    }","","    say(message)","","if __name__ == '__main__':","    SocketModeHandler(app, config.app_token).start()"],"id":246}],[{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"insert","lines":["",""],"id":247},{"start":{"row":12,"column":0},"end":{"row":13,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":30},"action":"insert","lines":["@app.message(re.compile(\"맛집\"))"],"id":248}],[{"start":{"row":13,"column":30},"end":{"row":14,"column":0},"action":"insert","lines":["",""],"id":249},{"start":{"row":14,"column":0},"end":{"row":15,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":18,"column":19},"end":{"row":18,"column":20},"action":"remove","lines":[" "],"id":250},{"start":{"row":18,"column":18},"end":{"row":18,"column":19},"action":"remove","lines":["대"]},{"start":{"row":18,"column":17},"end":{"row":18,"column":18},"action":"remove","lines":["여"]},{"start":{"row":18,"column":16},"end":{"row":18,"column":17},"action":"remove","lines":["명"]},{"start":{"row":18,"column":15},"end":{"row":18,"column":16},"action":"remove","lines":["숙"]}],[{"start":{"row":18,"column":15},"end":{"row":18,"column":19},"action":"insert","lines":["해운대 "],"id":251}],[{"start":{"row":12,"column":0},"end":{"row":13,"column":30},"action":"remove","lines":["","@app.message(re.compile(\"맛집\"))"],"id":252},{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"remove","lines":["",""],"id":253}],[{"start":{"row":10,"column":48},"end":{"row":11,"column":0},"action":"remove","lines":["",""],"id":254}],[{"start":{"row":57,"column":15},"end":{"row":57,"column":20},"action":"remove","lines":["숙명여대 "],"id":255},{"start":{"row":57,"column":15},"end":{"row":57,"column":20},"action":"insert","lines":["숙명여대 "]},{"start":{"row":57,"column":15},"end":{"row":57,"column":20},"action":"remove","lines":["숙명여대 "]},{"start":{"row":57,"column":15},"end":{"row":57,"column":16},"action":"insert","lines":["ㅎ"]},{"start":{"row":57,"column":15},"end":{"row":57,"column":16},"action":"remove","lines":["ㅎ"]},{"start":{"row":57,"column":15},"end":{"row":57,"column":16},"action":"insert","lines":["해"]},{"start":{"row":57,"column":15},"end":{"row":57,"column":16},"action":"remove","lines":["해"]},{"start":{"row":57,"column":15},"end":{"row":57,"column":16},"action":"insert","lines":["행"]},{"start":{"row":57,"column":15},"end":{"row":57,"column":16},"action":"remove","lines":["행"]},{"start":{"row":57,"column":15},"end":{"row":57,"column":16},"action":"insert","lines":["해"]},{"start":{"row":57,"column":16},"end":{"row":57,"column":17},"action":"insert","lines":["운"]},{"start":{"row":57,"column":17},"end":{"row":57,"column":18},"action":"insert","lines":["대"]},{"start":{"row":57,"column":18},"end":{"row":57,"column":19},"action":"insert","lines":[" "]}],[{"start":{"row":62,"column":18},"end":{"row":62,"column":22},"action":"remove","lines":["test"],"id":256},{"start":{"row":62,"column":18},"end":{"row":62,"column":19},"action":"insert","lines":["K"]},{"start":{"row":62,"column":19},"end":{"row":62,"column":20},"action":"insert","lines":["H"]},{"start":{"row":62,"column":20},"end":{"row":62,"column":21},"action":"insert","lines":["U"]},{"start":{"row":62,"column":21},"end":{"row":62,"column":22},"action":"insert","lines":["_"]},{"start":{"row":62,"column":22},"end":{"row":62,"column":23},"action":"insert","lines":["0"]},{"start":{"row":62,"column":23},"end":{"row":62,"column":24},"action":"insert","lines":["2"]},{"start":{"row":62,"column":24},"end":{"row":62,"column":25},"action":"insert","lines":["2"]}],[{"start":{"row":62,"column":25},"end":{"row":62,"column":26},"action":"insert","lines":["_"],"id":257}],[{"start":{"row":62,"column":25},"end":{"row":62,"column":26},"action":"remove","lines":["_"],"id":258},{"start":{"row":62,"column":24},"end":{"row":62,"column":25},"action":"remove","lines":["2"]},{"start":{"row":62,"column":23},"end":{"row":62,"column":24},"action":"remove","lines":["2"]},{"start":{"row":62,"column":22},"end":{"row":62,"column":23},"action":"remove","lines":["0"]}],[{"start":{"row":62,"column":22},"end":{"row":62,"column":23},"action":"insert","lines":["C"],"id":259},{"start":{"row":62,"column":23},"end":{"row":62,"column":24},"action":"insert","lines":["A"]},{"start":{"row":62,"column":24},"end":{"row":62,"column":25},"action":"insert","lines":["M"]},{"start":{"row":62,"column":25},"end":{"row":62,"column":26},"action":"insert","lines":["T"]},{"start":{"row":62,"column":26},"end":{"row":62,"column":27},"action":"insert","lines":["A"]},{"start":{"row":62,"column":27},"end":{"row":62,"column":28},"action":"insert","lines":["_"]}],[{"start":{"row":62,"column":28},"end":{"row":62,"column":29},"action":"insert","lines":["0"],"id":260},{"start":{"row":62,"column":29},"end":{"row":62,"column":30},"action":"insert","lines":["2"]},{"start":{"row":62,"column":30},"end":{"row":62,"column":31},"action":"insert","lines":["2"]}],[{"start":{"row":19,"column":18},"end":{"row":19,"column":22},"action":"remove","lines":["test"],"id":261},{"start":{"row":19,"column":18},"end":{"row":19,"column":19},"action":"insert","lines":["K"]},{"start":{"row":19,"column":19},"end":{"row":19,"column":20},"action":"insert","lines":["H"]},{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"insert","lines":["U"]},{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"insert","lines":["_"]},{"start":{"row":19,"column":22},"end":{"row":19,"column":23},"action":"insert","lines":["C"]},{"start":{"row":19,"column":23},"end":{"row":19,"column":24},"action":"insert","lines":["A"]},{"start":{"row":19,"column":24},"end":{"row":19,"column":25},"action":"insert","lines":["M"]},{"start":{"row":19,"column":25},"end":{"row":19,"column":26},"action":"insert","lines":["T"]},{"start":{"row":19,"column":26},"end":{"row":19,"column":27},"action":"insert","lines":["A"]}],[{"start":{"row":19,"column":27},"end":{"row":19,"column":28},"action":"insert","lines":["_"],"id":262},{"start":{"row":19,"column":28},"end":{"row":19,"column":29},"action":"insert","lines":["0"]},{"start":{"row":19,"column":29},"end":{"row":19,"column":30},"action":"insert","lines":["2"]},{"start":{"row":19,"column":30},"end":{"row":19,"column":31},"action":"insert","lines":["2"]}],[{"start":{"row":11,"column":0},"end":{"row":16,"column":37},"action":"insert","lines":["@app.event(\"app_mention\")  # 앱을 언급했을 때","def who_am_i(event, client, message, say):","    print('event:', event)","    print('client:', client)","    print('message:', message)","    say(f'hello! <@{event[\"user\"]}>')"],"id":263}],[{"start":{"row":16,"column":37},"end":{"row":17,"column":0},"action":"insert","lines":["",""],"id":264},{"start":{"row":17,"column":0},"end":{"row":17,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":10,"column":48},"end":{"row":11,"column":0},"action":"insert","lines":["",""],"id":265}],[{"start":{"row":126,"column":18},"end":{"row":126,"column":22},"action":"remove","lines":["test"],"id":266},{"start":{"row":126,"column":18},"end":{"row":126,"column":31},"action":"insert","lines":["KHU_CAMTA_022"]}],[{"start":{"row":170,"column":0},"end":{"row":171,"column":0},"action":"insert","lines":["",""],"id":267}],[{"start":{"row":171,"column":0},"end":{"row":227,"column":16},"action":"insert","lines":["@app.message(re.compile(\"추천\"))","def regex(message, say):","    say('안녕하세요 해운대 맛집 추천해드리겠습니다 :) ')","    # DynamoDB 리소스 생성","    dynamodb = boto3.resource('dynamodb', region_name='ap-northeast-2')  # 서울 리전의 코드(ap-northeast-2)로 설정","    ","    # 테이블 정보 설정","    table_name = 'KHU_CAMTA_022'  # 테이블 이름","    partition_key = 'store_id'  # 파티션 키","    ","    # DynamoDB 테이블 가져오기","    table = dynamodb.Table(table_name)","    ","    # 데이터 조회","    response = table.scan()","    items = response['Items']","    ","    # 랜덤하게 음식점 선택","    selected_item = random.choice(items)","    ","    # 선택된 음식점 정보 출력","    store_id = selected_item[partition_key]","    title = selected_item['title']","    category = selected_item['category']","    url = selected_item['url']","    ","    # 선택된 음식점 정보 출력","    message = {","        \"blocks\": [","            {","                \"type\": \"section\",","                \"text\": {","                    \"type\": \"mrkdwn\",","                    \"text\": f\"*맛집 추천!* :star:\\n\\n*맛집명:* {title}\\n*카테고리:* {category}\\n*자세히보기:*<{url}|링크>\"","                }","            },","            {","                \"type\": \"divider\"","            },","            {","                \"type\": \"actions\",","                \"elements\": [","                    {","                        \"type\": \"button\",","                        \"text\": {","                            \"type\": \"plain_text\",","                            \"text\": \"다른 음식점 추천받기\"","                        },","                        \"style\": \"primary\",","                        \"action_id\": \"recommend_another\"","                    }","                ]","            }","        ]","    }","","    say(message)"],"id":268}],[{"start":{"row":227,"column":16},"end":{"row":228,"column":0},"action":"insert","lines":["",""],"id":269},{"start":{"row":228,"column":0},"end":{"row":228,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":171,"column":26},"end":{"row":171,"column":27},"action":"remove","lines":["천"],"id":270},{"start":{"row":171,"column":25},"end":{"row":171,"column":26},"action":"remove","lines":["추"]}],[{"start":{"row":171,"column":25},"end":{"row":171,"column":26},"action":"insert","lines":["한"],"id":271}],[{"start":{"row":171,"column":26},"end":{"row":171,"column":27},"action":"insert","lines":["식"],"id":272},{"start":{"row":171,"column":27},"end":{"row":171,"column":28},"action":"insert","lines":["식"]}],[{"start":{"row":173,"column":19},"end":{"row":173,"column":20},"action":"insert","lines":["한"],"id":273},{"start":{"row":173,"column":20},"end":{"row":173,"column":21},"action":"insert","lines":["식"]},{"start":{"row":173,"column":21},"end":{"row":173,"column":22},"action":"insert","lines":[" "]}],[{"start":{"row":173,"column":9},"end":{"row":173,"column":14},"action":"remove","lines":["안녕하세요"],"id":274}],[{"start":{"row":173,"column":9},"end":{"row":173,"column":10},"action":"remove","lines":[" "],"id":275}],[{"start":{"row":201,"column":34},"end":{"row":202,"column":37},"action":"insert","lines":["","                    \"category\": \"한식\","],"id":276}],[{"start":{"row":202,"column":16},"end":{"row":202,"column":20},"action":"remove","lines":["    "],"id":277}],[{"start":{"row":172,"column":4},"end":{"row":172,"column":9},"action":"remove","lines":["regex"],"id":278},{"start":{"row":172,"column":4},"end":{"row":172,"column":9},"action":"insert","lines":["regex"]},{"start":{"row":172,"column":4},"end":{"row":172,"column":9},"action":"remove","lines":["regex"]},{"start":{"row":172,"column":4},"end":{"row":172,"column":5},"action":"insert","lines":["ㅏ"]},{"start":{"row":172,"column":4},"end":{"row":172,"column":5},"action":"remove","lines":["ㅏ"]},{"start":{"row":172,"column":4},"end":{"row":172,"column":5},"action":"insert","lines":["ㅏ"]},{"start":{"row":172,"column":5},"end":{"row":172,"column":6},"action":"insert","lines":["ㅐ"]},{"start":{"row":172,"column":6},"end":{"row":172,"column":7},"action":"insert","lines":["ㄱ"]},{"start":{"row":172,"column":7},"end":{"row":172,"column":8},"action":"insert","lines":["ㄷ"]}],[{"start":{"row":172,"column":7},"end":{"row":172,"column":8},"action":"remove","lines":["ㄷ"],"id":279},{"start":{"row":172,"column":6},"end":{"row":172,"column":7},"action":"remove","lines":["ㄱ"]},{"start":{"row":172,"column":5},"end":{"row":172,"column":6},"action":"remove","lines":["ㅐ"]},{"start":{"row":172,"column":4},"end":{"row":172,"column":5},"action":"remove","lines":["ㅏ"]}],[{"start":{"row":172,"column":4},"end":{"row":172,"column":5},"action":"insert","lines":["k"],"id":280},{"start":{"row":172,"column":5},"end":{"row":172,"column":6},"action":"insert","lines":["o"]},{"start":{"row":172,"column":6},"end":{"row":172,"column":7},"action":"insert","lines":["r"]},{"start":{"row":172,"column":7},"end":{"row":172,"column":8},"action":"insert","lines":["e"]},{"start":{"row":172,"column":8},"end":{"row":172,"column":9},"action":"insert","lines":["a"]},{"start":{"row":172,"column":9},"end":{"row":172,"column":10},"action":"insert","lines":["n"]}],[{"start":{"row":171,"column":27},"end":{"row":171,"column":28},"action":"remove","lines":["식"],"id":281}],[{"start":{"row":201,"column":34},"end":{"row":202,"column":33},"action":"remove","lines":["","                \"category\": \"한식\","],"id":282}],[{"start":{"row":198,"column":0},"end":{"row":198,"column":4},"action":"insert","lines":["    "],"id":283},{"start":{"row":199,"column":0},"end":{"row":199,"column":4},"action":"insert","lines":["    "]},{"start":{"row":200,"column":0},"end":{"row":200,"column":4},"action":"insert","lines":["    "]},{"start":{"row":201,"column":0},"end":{"row":201,"column":4},"action":"insert","lines":["    "]},{"start":{"row":202,"column":0},"end":{"row":202,"column":4},"action":"insert","lines":["    "]},{"start":{"row":203,"column":0},"end":{"row":203,"column":4},"action":"insert","lines":["    "]},{"start":{"row":204,"column":0},"end":{"row":204,"column":4},"action":"insert","lines":["    "]},{"start":{"row":205,"column":0},"end":{"row":205,"column":4},"action":"insert","lines":["    "]},{"start":{"row":206,"column":0},"end":{"row":206,"column":4},"action":"insert","lines":["    "]},{"start":{"row":207,"column":0},"end":{"row":207,"column":4},"action":"insert","lines":["    "]},{"start":{"row":208,"column":0},"end":{"row":208,"column":4},"action":"insert","lines":["    "]},{"start":{"row":209,"column":0},"end":{"row":209,"column":4},"action":"insert","lines":["    "]},{"start":{"row":210,"column":0},"end":{"row":210,"column":4},"action":"insert","lines":["    "]},{"start":{"row":211,"column":0},"end":{"row":211,"column":4},"action":"insert","lines":["    "]},{"start":{"row":212,"column":0},"end":{"row":212,"column":4},"action":"insert","lines":["    "]},{"start":{"row":213,"column":0},"end":{"row":213,"column":4},"action":"insert","lines":["    "]},{"start":{"row":214,"column":0},"end":{"row":214,"column":4},"action":"insert","lines":["    "]},{"start":{"row":215,"column":0},"end":{"row":215,"column":4},"action":"insert","lines":["    "]},{"start":{"row":216,"column":0},"end":{"row":216,"column":4},"action":"insert","lines":["    "]},{"start":{"row":217,"column":0},"end":{"row":217,"column":4},"action":"insert","lines":["    "]},{"start":{"row":218,"column":0},"end":{"row":218,"column":4},"action":"insert","lines":["    "]},{"start":{"row":219,"column":0},"end":{"row":219,"column":4},"action":"insert","lines":["    "]},{"start":{"row":220,"column":0},"end":{"row":220,"column":4},"action":"insert","lines":["    "]},{"start":{"row":221,"column":0},"end":{"row":221,"column":4},"action":"insert","lines":["    "]},{"start":{"row":222,"column":0},"end":{"row":222,"column":4},"action":"insert","lines":["    "]},{"start":{"row":223,"column":0},"end":{"row":223,"column":4},"action":"insert","lines":["    "]},{"start":{"row":224,"column":0},"end":{"row":224,"column":4},"action":"insert","lines":["    "]},{"start":{"row":225,"column":0},"end":{"row":225,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":197,"column":19},"end":{"row":198,"column":0},"action":"insert","lines":["",""],"id":284},{"start":{"row":198,"column":0},"end":{"row":198,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":198,"column":4},"end":{"row":198,"column":5},"action":"insert","lines":["i"],"id":285},{"start":{"row":198,"column":5},"end":{"row":198,"column":6},"action":"insert","lines":["f"]}],[{"start":{"row":198,"column":6},"end":{"row":198,"column":7},"action":"insert","lines":[" "],"id":286}],[{"start":{"row":198,"column":7},"end":{"row":198,"column":8},"action":"insert","lines":["{"],"id":287},{"start":{"row":198,"column":8},"end":{"row":198,"column":9},"action":"insert","lines":["c"]},{"start":{"row":198,"column":9},"end":{"row":198,"column":10},"action":"insert","lines":["a"]},{"start":{"row":198,"column":10},"end":{"row":198,"column":11},"action":"insert","lines":["t"]},{"start":{"row":198,"column":11},"end":{"row":198,"column":12},"action":"insert","lines":["e"]},{"start":{"row":198,"column":12},"end":{"row":198,"column":13},"action":"insert","lines":["g"]},{"start":{"row":198,"column":13},"end":{"row":198,"column":14},"action":"insert","lines":["o"]},{"start":{"row":198,"column":14},"end":{"row":198,"column":15},"action":"insert","lines":["r"]},{"start":{"row":198,"column":15},"end":{"row":198,"column":16},"action":"insert","lines":["y"]}],[{"start":{"row":198,"column":16},"end":{"row":198,"column":17},"action":"insert","lines":["}"],"id":288}],[{"start":{"row":198,"column":17},"end":{"row":198,"column":18},"action":"insert","lines":[" "],"id":289},{"start":{"row":198,"column":18},"end":{"row":198,"column":19},"action":"insert","lines":["="]},{"start":{"row":198,"column":19},"end":{"row":198,"column":20},"action":"insert","lines":["="]}],[{"start":{"row":198,"column":20},"end":{"row":198,"column":21},"action":"insert","lines":[" "],"id":290}],[{"start":{"row":198,"column":21},"end":{"row":198,"column":23},"action":"insert","lines":["\"\""],"id":291}],[{"start":{"row":198,"column":22},"end":{"row":198,"column":23},"action":"insert","lines":["한"],"id":292},{"start":{"row":198,"column":23},"end":{"row":198,"column":24},"action":"insert","lines":["식"]}],[{"start":{"row":198,"column":25},"end":{"row":198,"column":26},"action":"insert","lines":[":"],"id":293}],[{"start":{"row":226,"column":9},"end":{"row":227,"column":0},"action":"insert","lines":["",""],"id":294},{"start":{"row":227,"column":0},"end":{"row":227,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":227,"column":4},"end":{"row":227,"column":8},"action":"remove","lines":["    "],"id":295}],[{"start":{"row":227,"column":4},"end":{"row":227,"column":5},"action":"insert","lines":["딘"],"id":296}],[{"start":{"row":227,"column":4},"end":{"row":227,"column":5},"action":"remove","lines":["딘"],"id":297}],[{"start":{"row":227,"column":4},"end":{"row":227,"column":5},"action":"insert","lines":["e"],"id":298},{"start":{"row":227,"column":5},"end":{"row":227,"column":6},"action":"insert","lines":["l"]},{"start":{"row":227,"column":6},"end":{"row":227,"column":7},"action":"insert","lines":["s"]},{"start":{"row":227,"column":7},"end":{"row":227,"column":8},"action":"insert","lines":["e"]},{"start":{"row":227,"column":8},"end":{"row":227,"column":9},"action":"insert","lines":[":"]}],[{"start":{"row":227,"column":9},"end":{"row":228,"column":0},"action":"insert","lines":["",""],"id":299},{"start":{"row":228,"column":0},"end":{"row":228,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":228,"column":8},"end":{"row":228,"column":9},"action":"insert","lines":["k"],"id":300},{"start":{"row":228,"column":9},"end":{"row":228,"column":10},"action":"insert","lines":["o"]},{"start":{"row":228,"column":10},"end":{"row":228,"column":11},"action":"insert","lines":["r"]},{"start":{"row":228,"column":11},"end":{"row":228,"column":12},"action":"insert","lines":["e"]},{"start":{"row":228,"column":12},"end":{"row":228,"column":13},"action":"insert","lines":["a"]}],[{"start":{"row":228,"column":8},"end":{"row":228,"column":13},"action":"remove","lines":["korea"],"id":301},{"start":{"row":228,"column":8},"end":{"row":228,"column":16},"action":"insert","lines":["korean()"]}],[{"start":{"row":228,"column":15},"end":{"row":228,"column":16},"action":"insert","lines":[" "],"id":302}],[{"start":{"row":228,"column":15},"end":{"row":228,"column":16},"action":"remove","lines":[" "],"id":303}],[{"start":{"row":198,"column":0},"end":{"row":198,"column":4},"action":"insert","lines":["    "],"id":304},{"start":{"row":199,"column":0},"end":{"row":199,"column":4},"action":"insert","lines":["    "]},{"start":{"row":200,"column":0},"end":{"row":200,"column":4},"action":"insert","lines":["    "]},{"start":{"row":201,"column":0},"end":{"row":201,"column":4},"action":"insert","lines":["    "]},{"start":{"row":202,"column":0},"end":{"row":202,"column":4},"action":"insert","lines":["    "]},{"start":{"row":203,"column":0},"end":{"row":203,"column":4},"action":"insert","lines":["    "]},{"start":{"row":204,"column":0},"end":{"row":204,"column":4},"action":"insert","lines":["    "]},{"start":{"row":205,"column":0},"end":{"row":205,"column":4},"action":"insert","lines":["    "]},{"start":{"row":206,"column":0},"end":{"row":206,"column":4},"action":"insert","lines":["    "]},{"start":{"row":207,"column":0},"end":{"row":207,"column":4},"action":"insert","lines":["    "]},{"start":{"row":208,"column":0},"end":{"row":208,"column":4},"action":"insert","lines":["    "]},{"start":{"row":209,"column":0},"end":{"row":209,"column":4},"action":"insert","lines":["    "]},{"start":{"row":210,"column":0},"end":{"row":210,"column":4},"action":"insert","lines":["    "]},{"start":{"row":211,"column":0},"end":{"row":211,"column":4},"action":"insert","lines":["    "]},{"start":{"row":212,"column":0},"end":{"row":212,"column":4},"action":"insert","lines":["    "]},{"start":{"row":213,"column":0},"end":{"row":213,"column":4},"action":"insert","lines":["    "]},{"start":{"row":214,"column":0},"end":{"row":214,"column":4},"action":"insert","lines":["    "]},{"start":{"row":215,"column":0},"end":{"row":215,"column":4},"action":"insert","lines":["    "]},{"start":{"row":216,"column":0},"end":{"row":216,"column":4},"action":"insert","lines":["    "]},{"start":{"row":217,"column":0},"end":{"row":217,"column":4},"action":"insert","lines":["    "]},{"start":{"row":218,"column":0},"end":{"row":218,"column":4},"action":"insert","lines":["    "]},{"start":{"row":219,"column":0},"end":{"row":219,"column":4},"action":"insert","lines":["    "]},{"start":{"row":220,"column":0},"end":{"row":220,"column":4},"action":"insert","lines":["    "]},{"start":{"row":221,"column":0},"end":{"row":221,"column":4},"action":"insert","lines":["    "]},{"start":{"row":222,"column":0},"end":{"row":222,"column":4},"action":"insert","lines":["    "]},{"start":{"row":223,"column":0},"end":{"row":223,"column":4},"action":"insert","lines":["    "]},{"start":{"row":224,"column":0},"end":{"row":224,"column":4},"action":"insert","lines":["    "]},{"start":{"row":225,"column":0},"end":{"row":225,"column":4},"action":"insert","lines":["    "]},{"start":{"row":226,"column":0},"end":{"row":226,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":197,"column":19},"end":{"row":198,"column":0},"action":"insert","lines":["",""],"id":305},{"start":{"row":198,"column":0},"end":{"row":198,"column":4},"action":"insert","lines":["    "]},{"start":{"row":198,"column":4},"end":{"row":198,"column":5},"action":"insert","lines":["d"]},{"start":{"row":198,"column":5},"end":{"row":198,"column":6},"action":"insert","lines":["e"]},{"start":{"row":198,"column":6},"end":{"row":198,"column":7},"action":"insert","lines":["f"]}],[{"start":{"row":198,"column":7},"end":{"row":198,"column":8},"action":"insert","lines":[" "],"id":306},{"start":{"row":198,"column":8},"end":{"row":198,"column":9},"action":"insert","lines":["k"]},{"start":{"row":198,"column":9},"end":{"row":198,"column":10},"action":"insert","lines":["o"]},{"start":{"row":198,"column":10},"end":{"row":198,"column":11},"action":"insert","lines":["r"]},{"start":{"row":198,"column":11},"end":{"row":198,"column":12},"action":"insert","lines":["e"]},{"start":{"row":198,"column":12},"end":{"row":198,"column":13},"action":"insert","lines":["a"]},{"start":{"row":198,"column":13},"end":{"row":198,"column":14},"action":"insert","lines":["n"]},{"start":{"row":198,"column":14},"end":{"row":198,"column":15},"action":"insert","lines":["_"]}],[{"start":{"row":198,"column":15},"end":{"row":198,"column":16},"action":"insert","lines":["m"],"id":307},{"start":{"row":198,"column":16},"end":{"row":198,"column":17},"action":"insert","lines":["e"]},{"start":{"row":198,"column":17},"end":{"row":198,"column":18},"action":"insert","lines":["s"]},{"start":{"row":198,"column":18},"end":{"row":198,"column":19},"action":"insert","lines":["s"]},{"start":{"row":198,"column":19},"end":{"row":198,"column":20},"action":"insert","lines":["a"]},{"start":{"row":198,"column":20},"end":{"row":198,"column":21},"action":"insert","lines":["g"]},{"start":{"row":198,"column":21},"end":{"row":198,"column":22},"action":"insert","lines":["e"]}],[{"start":{"row":198,"column":22},"end":{"row":198,"column":24},"action":"insert","lines":["()"],"id":308}],[{"start":{"row":198,"column":24},"end":{"row":198,"column":25},"action":"insert","lines":[";"],"id":309}],[{"start":{"row":198,"column":24},"end":{"row":198,"column":25},"action":"remove","lines":[";"],"id":310}],[{"start":{"row":198,"column":24},"end":{"row":198,"column":25},"action":"insert","lines":[":"],"id":311}],[{"start":{"row":227,"column":13},"end":{"row":228,"column":0},"action":"insert","lines":["",""],"id":312},{"start":{"row":228,"column":0},"end":{"row":228,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":228,"column":8},"end":{"row":228,"column":12},"action":"remove","lines":["    "],"id":313}],[{"start":{"row":228,"column":8},"end":{"row":228,"column":9},"action":"insert","lines":["r"],"id":314},{"start":{"row":228,"column":9},"end":{"row":228,"column":10},"action":"insert","lines":["e"]},{"start":{"row":228,"column":10},"end":{"row":228,"column":11},"action":"insert","lines":["t"]},{"start":{"row":228,"column":11},"end":{"row":228,"column":12},"action":"insert","lines":["u"]},{"start":{"row":228,"column":12},"end":{"row":228,"column":13},"action":"insert","lines":["r"]},{"start":{"row":228,"column":13},"end":{"row":228,"column":14},"action":"insert","lines":["n"]}],[{"start":{"row":228,"column":14},"end":{"row":228,"column":15},"action":"insert","lines":[" "],"id":315},{"start":{"row":228,"column":15},"end":{"row":228,"column":16},"action":"insert","lines":["m"]},{"start":{"row":228,"column":16},"end":{"row":228,"column":17},"action":"insert","lines":["e"]},{"start":{"row":228,"column":17},"end":{"row":228,"column":18},"action":"insert","lines":["a"]}],[{"start":{"row":228,"column":17},"end":{"row":228,"column":18},"action":"remove","lines":["a"],"id":316}],[{"start":{"row":170,"column":0},"end":{"row":232,"column":16},"action":"remove","lines":["","@app.message(re.compile(\"한식\"))","def korean(message, say):","    say('해운대 한식 맛집 추천해드리겠습니다 :) ')","    # DynamoDB 리소스 생성","    dynamodb = boto3.resource('dynamodb', region_name='ap-northeast-2')  # 서울 리전의 코드(ap-northeast-2)로 설정","    ","    # 테이블 정보 설정","    table_name = 'KHU_CAMTA_022'  # 테이블 이름","    partition_key = 'store_id'  # 파티션 키","    ","    # DynamoDB 테이블 가져오기","    table = dynamodb.Table(table_name)","    ","    # 데이터 조회","    response = table.scan()","    items = response['Items']","    ","    # 랜덤하게 음식점 선택","    selected_item = random.choice(items)","    ","    # 선택된 음식점 정보 출력","    store_id = selected_item[partition_key]","    title = selected_item['title']","    category = selected_item['category']","    url = selected_item['url']","    ","    # 선택된 음식점 정보 출력","    def korean_message():","        if {category} == \"한식\":","            message = {","                \"blocks\": [","                    {","                        \"type\": \"section\",","                        \"text\": {","                            \"type\": \"mrkdwn\",","                            \"text\": f\"*맛집 추천!* :star:\\n\\n*맛집명:* {title}\\n*카테고리:* {category}\\n*자세히보기:*<{url}|링크>\"","                        }","                    },","                    {","                        \"type\": \"divider\"","                    },","                    {","                        \"type\": \"actions\",","                        \"elements\": [","                            {","                                \"type\": \"button\",","                                \"text\": {","                                    \"type\": \"plain_text\",","                                    \"text\": \"다른 음식점 추천받기\"","                                },","                                \"style\": \"primary\",","                                \"action_id\": \"recommend_another\"","                            }","                        ]","                    }","                ]","            }","        return me","    else:","        korean()","","    say(message)"],"id":317},{"start":{"row":169,"column":16},"end":{"row":170,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":35,"column":4},"end":{"row":35,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1689661718315,"hash":"6a50546f0f9a623fbe66da49c358796bffa9cbda"}